# Start window and pane numbering at 1
set -g base-index 1
set -g pane-base-index 1

# Use Ctrl + Arrow keys to switch windows without prefix
bind -n C-Left previous-window
bind -n C-Right next-window

# Status bar with transparent background (so rounded edges blend)
set -g status-style "bg=default,fg=#0e091d"

# Command prompt / message bar style
set -g message-style "bg=#ff7f41,fg=#0e091d"
set -g message-command-style "bg=#ff7f41,fg=#0e091d"

# Tree mode / selection highlight style (Ctrl+b s)
set -g mode-style "bg=#ff7f41,fg=#0e091d"

# Center the window list
set -g status-justify centre

# Left side: rounded pill
set -g status-left "#[fg=#ff7f41,bg=default]#(printf '\uE0B6')#[fg=#0e091d,bg=#ff7f41] #S #[fg=#ff7f41,bg=default]#(printf '\uE0B4')"
set -g status-left-length 50

# Right side: rounded pill with CPU and RAM metrics (efficient)
set -g status-right "#[fg=#ff7f41,bg=default]#(printf '\uE0B6')#[fg=#0e091d,bg=#ff7f41] #(printf '\uf4bc') #(cat /proc/loadavg | cut -d' ' -f1) #(printf '\uefc5') #(free -h | awk '/Mem:/ {print $3}') #[fg=#ff7f41,bg=default]#(printf '\uE0B4')"
set -g status-right-length 100

# Window status (centered, each window is a rounded pill)
# Inactive: inverted colors (dark bg, orange text)
set -g window-status-format "#[fg=#3a3a3a,bg=default]#(printf '\uE0B6')#[fg=#ff7f41,bg=#3a3a3a] #I:#W #[fg=#3a3a3a,bg=default]#(printf '\uE0B4')"
# Active: orange bg, black text
set -g window-status-current-format "#[fg=#ff7f41,bg=default]#(printf '\uE0B6')#[fg=#0e091d,bg=#ff7f41,bold] #I:#W #[fg=#ff7f41,bg=default]#(printf '\uE0B4')"
set -g window-status-separator " "

# 2-line status: empty line on top, actual bar on bottom
set -g status 2
set -Fg 'status-format[1]' '#{status-format[0]}'
set -g 'status-format[0]' ''

# ─── Plugins (via TPM) ───
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Continuum: auto-save every 15 mins, auto-restore on tmux start
set -g @continuum-restore 'on'
set -g @continuum-save-interval '15'

# Resurrect: capture pane contents
set -g @resurrect-capture-pane-contents 'on'

# Initialize TPM (keep this at the very bottom)
run '~/.tmux/plugins/tpm/tpm'
